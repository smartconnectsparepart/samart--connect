<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Connect - Official Store</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #ffcc00; --dark: #1a1a1a; --light: #ffffff; }
        body { font-family: 'Poppins', sans-serif; margin: 0; background-color: #f8f9fa; color: #333; text-align: center; }
        
        header { background-color: var(--dark); color: var(--primary); padding: 15px; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        
        /* New Stylish Hero Section */
        .hero { 
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=2000&auto=format&fit=crop'); 
            background-size: cover; 
            background-position: center; 
            color: white; 
            padding: 80px 20px; 
            position: relative;
        }
        .hero img { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--primary); object-fit: cover; margin-bottom: 15px; }
        .hero h2 { font-size: 32px; margin: 0; text-transform: uppercase; letter-spacing: 2px; }
        .hero p { font-size: 18px; opacity: 0.9; }

        /* Search Bar */
        .search-container { margin: -25px auto 30px; max-width: 500px; display: flex; padding: 0 15px; position: relative; z-index: 10; }
        .search-container input { flex: 1; padding: 15px 25px; border: none; border-radius: 30px 0 0 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); outline: none; }
        .search-container button { padding: 15px 25px; background: var(--primary); border: none; border-radius: 0 30px 30px 0; cursor: pointer; font-weight: bold; }

        /* Bank Details Card */
        .bank-details { background: white; margin: 20px auto; padding: 25px; max-width: 500px; width: 90%; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); text-align: left; }
        .bank-details h3 { margin-top: 0; color: var(--dark); border-bottom: 2px solid var(--primary); padding-bottom: 10px; }
        .bank-info p { margin: 8px 0; font-size: 16px; display: flex; justify-content: space-between; }
        .bank-info p b { color: #555; }

        /* Product Grid */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; padding: 20px; max-width: 1200px; margin: auto; }
        .product-card { background: white; padding: 15px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: 0.3s; }
        .product-card:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }
        .product-card img { width: 100%; height: 180px; object-fit: cover; border-radius: 12px; margin-bottom: 15px; }
        .product-card h3 { font-size: 18px; margin: 0 0 10px; color: var(--dark); }
        .product-card .price { color: #007bff; font-weight: 800; font-size: 20px; margin-bottom: 15px; }
        
        .btn-whatsapp { background-color: #25D366; color: white; padding: 12px; text-decoration: none; border-radius: 10px; display: block; font-weight: bold; transition: 0.3s; }
        .btn-whatsapp:hover { background-color: #1ebe57; }
        
        .admin-btn { position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.2); color: white; padding: 8px 15px; cursor: pointer; border-radius: 8px; font-size: 12px; backdrop-filter: blur(5px); }

        @media (max-width: 480px) {
            .product-grid { grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
            .hero h2 { font-size: 24px; }
        }
    </style>
</head>
<body>

<header>
    <h2 style="margin:0; letter-spacing: 3px;">SMART CONNECT</h2>
</header>

<div class="hero">
    <div class="admin-btn" onclick="openAdmin()">ADMIN PANEL</div>
    <img src="https://img.freepik.com/free-photo/smart-watch-with-black-screen-isolated_53876-104958.jpg" alt="Store Logo">
    <h2>Smart Solutions</h2>
    <p>Premium Mobile Parts & Accessories</p>
</div>

<div class="search-container">
    <input type="text" id="searchInput" placeholder="What are you looking for?" onkeyup="searchProducts()">
    <button><i class="fa fa-search"></i></button>
</div>

<div class="bank-details">
    <h3><i class="fa fa-credit-card"></i> Payment Information</h3>
    <div class="bank-info">
        <p><b>Bank:</b> <span>Commercial Bank</span></p>
        <p><b>Branch:</b> <span>Mathugama</span></p>
        <p><b>Account Name:</b> <span>Senija Dilmith</span></p>
        <p><b>Account Number:</b> <span>8021750201</span></p>
    </div>
</div>

<h2 style="margin: 40px 0 20px; font-weight: 300; text-transform: uppercase;">Trending Products</h2>
<div class="product-grid" id="productGrid"></div>

<script>
    // Firebase Config
    const firebaseConfig = {
        databaseURL: "https://smartconnect-ec061-default-rtdb.firebaseio.com"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Load Products
    function loadProducts() {
        database.ref('products').on('value', (snapshot) => {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = '';
            snapshot.forEach((childSnapshot) => {
                const item = childSnapshot.val();
                grid.innerHTML += `
                    <div class="product-card">
                        <img src="${item.imageUrl}" alt="${item.name}">
                        <h3>${item.name}</h3>
                        <div class="price">Rs. ${item.price}</div>
                        <a href="https://wa.me/94785805283?text=Hello Smart Connect, I want to order: ${item.name}" class="btn-whatsapp">
                            <i class="fab fa-whatsapp"></i> ORDER VIA WA
                        </a>
                    </div>
                `;
            });
        });
    }

    function searchProducts() {
        let input = document.getElementById('searchInput').value.toLowerCase();
        let cards = document.getElementsByClassName('product-card');
        for (let card of cards) {
            let name = card.getElementsByTagName('h3')[0].innerText.toLowerCase();
            card.style.display = name.includes(input) ? "block" : "none";
        }
    }

    function openAdmin() {
        let pass = prompt("Access Restricted. Enter Password:");
        if (pass === "2010") {
            let name = prompt("Product Name:");
            let price = prompt("Price (Rs):");
            let url = prompt("Image URL:");
            if (name && price && url) {
                database.ref('products').push({ name: name, price: price, imageUrl: url });
                alert("Product Added Successfully!");
            }
        } else {
            alert("Unauthorized Access!");
        }
    }
    loadProducts();
</script>

</body>
</html>